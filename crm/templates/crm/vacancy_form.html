{% extends 'crm/base_crm.html' %}

{% block title %}{{ title }} | CRM –ê—Ä–≥—É—Å{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- üîπ –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="mb-8">
        <div class="flex items-center gap-4 mb-6">
            <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg">
                <i data-lucide="briefcase" class="w-6 h-6 text-white"></i>
            </div>
            <div>
                <h1 class="text-2xl lg:text-3xl font-bold text-gray-900">{{ title }}</h1>
                <p class="text-gray-600 mt-1">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞–∫–∞–Ω—Å–∏–∏</p>
            </div>
        </div>
    </div>

    <!-- üîπ –§–æ—Ä–º–∞ -->
    <div class="bg-white rounded-2xl shadow-lg border border-gray-200 p-6">
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="grid md:grid-cols-2 gap-6">
                <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ -->
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        –ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ *
                    </label>
                    <input type="text" name="title" value="{{ vacancy.title|default:'' }}" 
                           class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200"
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º" required>
                </div>

                <!-- –ó–∞—Ä–ø–ª–∞—Ç–∞ -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        üí∞ –ó–∞—Ä–ø–ª–∞—Ç–∞
                    </label>
                    <input type="text" name="salary" value="{{ vacancy.salary|default:'' }}" 
                           class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200"
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –æ—Ç 50 000 —Ä—É–±.">
                </div>

                <!-- –°—Ç–∞—Ç—É—Å -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        –°—Ç–∞—Ç—É—Å –≤–∞–∫–∞–Ω—Å–∏–∏
                    </label>
                    <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl border border-gray-300">
                        <input type="checkbox" name="is_active" id="is_active" 
                               {% if vacancy.is_active or not vacancy %}checked{% endif %}
                               class="w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500">
                        <label for="is_active" class="text-sm font-medium text-gray-700">
                            –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è
                        </label>
                    </div>
                </div>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
    <!-- –¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
            üìä –¢–∏–ø –∑–∞–Ω—è—Ç–æ—Å—Ç–∏
        </label>
        <input type="text" name="employment_type" value="{{ vacancy.employment_type|default:'' }}" 
               class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200"
               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–æ–ª–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å, —É–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞">
    </div>

    <!-- –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã -->
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">
            üéØ –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã
        </label>
        <input type="text" name="experience" value="{{ vacancy.experience|default:'' }}" 
               class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200"
               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –æ—Ç 1 –≥–æ–¥–∞, –±–µ–∑ –æ–ø—ã—Ç–∞">
    </div>
</div>
            <!-- –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    üéØ –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏
                </label>
                <textarea name="responsibilities" rows="4"
                          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200"
                          placeholder="–û–ø–∏—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞...">{{ vacancy.responsibilities|default:'' }}</textarea>
            </div>

            <!-- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
                </label>
                <textarea name="requirements" rows="4"
                          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200"
                          placeholder="–û–ø–∏—à–∏—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞–Ω–¥–∏–¥–∞—Ç—É...">{{ vacancy.requirements|default:'' }}</textarea>
            </div>

            <!-- –£—Å–ª–æ–≤–∏—è -->
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                    üèÜ –£—Å–ª–æ–≤–∏—è
                </label>
                <textarea name="conditions" rows="4"
                          class="w-full px-4 py-3 bg-gray-50 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:bg-white transition-all duration-200"
                          placeholder="–û–ø–∏—à–∏—Ç–µ —É—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã, –±–æ–Ω—É—Å—ã, –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞...">{{ vacancy.conditions|default:'' }}</textarea>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="flex gap-4 pt-6 border-t border-gray-200">
                <a href="{% url 'crm_vacancies_list' %}" 
                   class="flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 font-medium text-center">
                    –û—Ç–º–µ–Ω–∞
                </a>
                <button type="submit" 
                        class="flex-1 px-6 py-3 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-xl hover:from-purple-600 hover:to-indigo-600 transition-all duration-200 shadow-lg shadow-purple-500/25 hover:shadow-xl hover:shadow-purple-500/30 font-medium">
                    {% if vacancy %}–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è{% else %}–°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é{% endif %}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        lucide.createIcons();
    });
</script>
{% endblock %}